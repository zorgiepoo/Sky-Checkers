{
	"app-id": "net.zgcoder.skycheckers",
	"runtime": "org.freedesktop.Platform",
	"runtime-version": "21.08",
	"sdk": "org.freedesktop.Sdk",
	"command": "skycheckers",
	"finish-args": [
		"--socket=x11",
		"--share=ipc",
		"--device=dri",
		"--socket=pulseaudio",
		"--share=network",
		"--device=all"
	],
	"modules": [
		{
			"name": "SDL2",
			"buildsystem": "autotools",
			"config-opts": ["--disable-static"],
			"sources": [
				{
					"type": "archive",
					"url": "https://www.libsdl.org/release/SDL2-2.0.20.tar.gz",
					"sha256": "c56aba1d7b5b0e7e999e4a7698c70b63a3394ff9704b5f6e1c57e0c16f04dd06"
				}
			],
			"cleanup": [
				"/bin/sdl2-config",
				"/include",
				"/lib/libSDL2.la",
				"/lib/libSDL2main.a",
				"/lib/libSDL2main.la",
				"/lib/libSDL2_test.a",
				"/lib/libSDL2_test.la",
				"/lib/cmake",
				"/share/aclocal"
			]
		},
		"shared-modules/glu/glu-9.json",
		"shared-modules/glew/glew.json",
		{
			"name": "skycheckers",
			"subdir": "linux",
			"no-autogen": true,
			"make-args": [
				"RELEASEOPTS=-D_FLATPAK_BUILD",
				"INSTALL_DATA=0"
			],
			"make-install-args": [
				"DESTDIR=/",
				"USER_DIRNAME=app",
				"INSTALL_DATA=0"
			],
			"sources": [
				{
					"type": "archive",
					"url": "https://github.com/zorgiepoo/Sky-Checkers/releases/download/v1.3/sc-snap-pak-repo.tgz",
					"sha256": "277ea5968d6859e5f1e18b56facaee690d68189f1d52479c5bba1b6b0354a762"
				}
			]
		},
		{
			"name": "game-data",
			"buildsystem": "simple",
			"sources": [
				{
					"type": "extra-data",
					"filename": "sc-snap-pak-data.tgz",
					"url": "https://github.com/zorgiepoo/Sky-Checkers/releases/download/v1.3/sc-snap-pak-data.tgz",
					"sha256": "142e8abfa0179dccbdbf95bfe405d2a5c86ead99ea39e8ac340b1ed4dd79a8a1",
					"size": 9483044
				},
				{
					"type": "script",
					"dest-filename": "apply_extra",
					"commands": [
						"tar -xf sc-snap-pak-data.tgz",
						"rm -f sc-snap-pak-data.tgz"
					]
				}
			],
			"build-commands": [
				"install apply_extra /app/bin/apply_extra"
			]
		}
	]
}

